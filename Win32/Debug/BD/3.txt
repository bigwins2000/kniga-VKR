3
ГЛАВА 2 
  Первый проект 
Процесс разработки программы в Delphi рассмотрим на примере — создадим приложение (так принято называть прикладную программу), с помощью которого можно пересчитать цену из долларов в рубли (рис. 2.1). 
  Рис. 2.1. Окно программы "Конвертер" 
Начало работы 
Чтобы начать работу над новым приложением, нужно в меню File выбрать  команду NewVCL Forms Application - Delphi. 
Форма 
Работа над приложением начинается с создания стартовой формы — главного окна программы. 
Сначала нужно установить требуемые значения формы, затем — поместить на форму необходимые компоненты (поля ввода информации, командные кнопки, поля отображения текста и др.). 
Настройка формы (а также компонентов) осуществляется путем изменения значений свойств. Свойства объекта (формы, компонента) определяют его вид и поведение. Например, свойство Caption определяет текст заголовка окна, а свойство Position — положение окна в момент появления на экране. 
Основные свойства формы (объекта TForm) приведены в табл. 2.1.  
Таблица 2.1. Свойства формы (объекта TForm) 
Свойство 	Описание 
Name 	Имя (идентификатор) формы. Используется для доступа к форме, ее свойствам и методам, а также для доступа к компонентам формы 
Caption 	Текст заголовка 
Width 	Ширина формы 
Height 	Высота формы 
Position 	Положение окна в момент первого его появления на экране 
(poCenterScreen — в центре экрана; poOwnerFormCenter — в центре родительского окна; poDesigned — положение окна определяют значения свойств Top и Left) 
Top 	Расстояние от верхней границы формы до верхней границы экрана 
Left 	Расстояние от левой границы формы до левой границы экрана 
BorderStyle 	Вид границы. Граница может быть обычной (bsSizeable), тонкой (bsSingle) или вообще отсутствовать (bsNone). Если у окна обычная граница, то во время работы программы пользователь может с помощью мыши изменить размер окна. Изменить размер окна с тонкой границей нельзя. Если граница отсутствует, то на экран во время работы программы будет выведено окно без заголовка. Положение и размер такого окна во время работы программы изменить нельзя 
BorderIcons 	Кнопки управления окном. Значение свойства определяет, какие кнопки управления окном будут доступны пользователю во время работы программы. Значение свойства задается путем присвоения значений уточняющим свойствам biSystemMenu, biMinimaze, biMaximaze и biHelp. Свойство biSystemMenu определяет доступность кнопки системного меню (значок в заголовке окна), biMinimaze — кнопки Свернуть, biMaximaze — кнопки Развернуть, biHelp — кнопки вывода справочной информации 
Icon 	Значок в заголовке диалогового окна, обозначающий кнопку вывода системного меню 
Color 	Цвет фона. Цвет можно задать, указав название цвета или привязку к текущей цветовой схеме операционной системы. Во втором случае цвет определяется текущей цветовой схемой, выбранным компонентом привязки и меняется при изменении цветовой схемы операционной системы 
Таблица 2.1 (окончание) 
Свойство 	Описание 
Font 	Шрифт. Шрифт, используемый по умолчанию компонентами, находящимися на поверхности формы. Изменение свойства Font формы приводит к автоматическому изменению свойства Font компонента, располагающегося на поверхности формы. То есть компоненты наследуют свойство Font от формы (имеется возможность запретить наследование) 
 Для изменения значений свойств объектов используется вкладка Properties окна Object Inspector. В левой колонке этой вкладки перечислены свойства объекта, выбранного в данный момент, в правой — указаны значения свойств. Имя выбранного объекта отображается в верхней части окна Object Inspector. 
На вкладке Properties свойства объединены в группы по функциональному признаку (названия групп выделены цветом). Например, группа Visual содержит свойства, определяющие вид объекта (для формы — заголовок, цвет фона, вид границы), а группа Layout — свойства, определяющие положение объекта (для формы — координаты левого верхнего угла). Некоторые свойства, например Width и Height, отображаются в нескольких группах (Visual и Layout). 
Программист может изменить способ отображения свойств в окне Object Inspector. Например, чтобы свойства отображались в алфавитном порядке, в контекстном меню вкладки Properties надо выбрать команду Arrangeby Name. 
Чтобы в заголовке формы вместо Form1 появилось название программы — текст Конвертер, следует изменить значение свойства Caption. Чтобы это сделать, надо в окне Object Inspector щелкнуть левой кнопкой мыши в строке свойства  (в результате будет выделено текущее значение свойства и появится курсор), ввести текст Конвертер и нажать клавишу <Enter> (рис. 2.2). 
Аналогичным образом можно установить значения свойств Height и Width, которые определяют высоту и ширину формы. Размер формы, а также размер других компонентов, задают в пикселах (точках). Свойствам Height и Width надо присвоить значения 215 и 366 соответственно. 
Размер формы можно изменить и с помощью мыши, точно так же, как и любого окна, т. е. путем перемещения границы. По окончании перемещения границы значения свойств Height и Width будут соответствовать установленному размеру формы. 
Положение окна на экране в момент его первого появления соответствует положению формы, заданному во время разработки программы. Положение можно задать, установив значение свойств Top (отступ от верхней границы экрана) и Left (отступ от левой границы экрана) или задав значение свойства Position. 
При выборе некоторых свойств, например BorderStyle, справа от текущего значения свойства появляется значок раскрывающегося списка. Очевидно, что значение таких свойств можно задать путем выбора из списка (рис. 2.3). 
 
  Рис. 2.2. Изменение значения свойства 
Caption путем ввода нового значения 
  Некоторые свойства являются сложными, т. е. их значение определяется совокупностью значений других (уточняющих) свойств. Например, свойство 
BorderIcons определяет кнопки управления окном, которые будут доступны во время работы программы. Значения этого свойства определяются совокупностью значений свойств biSystemMenu, biMinimize, biMaximize и biHelp, каждое из которых, в свою очередь, определяет наличие соответствующей командной кнопки в заголовке окна во время работы программы. Перед именами сложных свойств стоит значок "+", в результате щелчка на котором раскрывается список уточняющих свойств (рис. 2.4). Значение уточняющего свойства можно задать обычным образом (ввести значение в поле редактирования или выбрать в списке). 
В результате выбора некоторых свойств, например Font, в поле значения свойства отображается кнопка, на которой изображены три точки. Это значит, что задать значение свойства можно в дополнительном диалоговом окне, которое появится в результате щелчка на этой кнопке. Например, значение свойства Font можно задать путем ввода значений уточняющих свойств (Name, Size, Style и др.), а можно воспользоваться стандартным диалоговым окном Шрифт, которое появится в результате щелчка на кнопке с тремя точками (рис. 2.5). 
В табл. 2.2 приведены значения свойств стартовой формы программы "Конвертер". Значения остальных свойств формы оставлены без изменения и поэтому в таблице не представлены. Обратите внимание, в именах некоторых свойств есть точка. Это значит, что это значение уточняющего свойства.  
Рис. 2.3. Установка значения свойства  путем выбора из списка  
Рис. 2.4. Изменение значения  уточняющего свойства 
  Рис. 2.5. Чтобы задать свойства шрифта, щелкните на кнопке с тремя точками 
 Таблица 2.2. Значения свойств стартовой формы  
Свойство 	Значение 	Комментарий 
Caption 	Конвертер 	 
Height 	215 	 
Width 	366 	 
BorderStyle 	bsSingle 	Тонкая граница формы. Во время работы программы пользователь не сможет изменить размер окна путем захвата и перемещения его границы 
Position 	poDesktopCenter 	Окно программы появится в центре рабочего стола 
BorderIcons. biMaximize 	False 	В заголовке окна не отображать кнопку Развернуть 
Font.Name 	Tahoma 	 
Font.Size 	10 	 
 После того как будут установлены значения свойств формы, она должна выглядеть так, как показано на рис. 2.6. Теперь на форму надо добавить компоненты. 
  Рис. 2.6. Форма после изменения значений ее свойств 
